machine:
  timezone:
    Europe/Rome

  node:
    version:
      6.1.0

dependencies:
  pre:
    - pwd
  override:
    - npm install -g typings webpack
    - npm install
    - typings install
    
test:
  pre:
    - npm run -s frontend:compile
    - npm run -s core:compile
  override:
    - mocha test --recursive --reporter mocha-junit-reporter:
        environment:
          NODE_ENV: mocha
          MOCHA_FILE: $CIRCLE_TEST_REPORTS/junit/test-results.xml
